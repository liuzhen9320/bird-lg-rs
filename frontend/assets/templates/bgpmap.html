<h2>BGP Map: {{ target }}</h2>
<div class="row">
	<div class="col-md-12">
		<div id="bgpmap" style="width: 100%; height: 600px;"></div>
	</div>
</div>

<script src="/static/viz.js"></script>
<script>
	var dot = atob("{{ result }}");
	var viz = new Viz();
	viz.renderSVGElement(dot)
		.then(function(element) {
			document.getElementById("bgpmap").appendChild(element);
		})
		.catch(error => {
			console.error(error);
			document.getElementById("bgpmap").innerHTML = "<p>Error rendering BGP map</p>";
		});
</script> 